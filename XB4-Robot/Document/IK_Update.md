## ä¸€ã€ç¬¦å·å®šä¹‰

### 1.1 MDHå‚æ•°ï¼ˆå¸¸é‡ï¼‰

| ç¬¦å· | å€¼ (m) | è¯´æ˜ |
|------|--------|------|
| dâ‚ | 0.342 | åŸºåº§é«˜åº¦ |
| aâ‚ | 0.040 | è‚©å…³èŠ‚åç§» |
| aâ‚‚ | 0.275 | å¤§è‡‚é•¿åº¦ |
| aâ‚ƒ | 0.025 | å°è‡‚åç§» |
| dâ‚„ | 0.280 | è…•éƒ¨åç§» |
| dâ‚œ | 0.073 | æœ«ç«¯å·¥å…·é•¿åº¦ |

### 1.2 å„å…³èŠ‚MDHå‚æ•°è¡¨

| å…³èŠ‚ i | Î±(i-1) | a(i-1) | d_i | Î¸_offset | è¯´æ˜ |
|--------|--------|--------|-----|----------|------|
| 1 | 0 | 0 | dâ‚ | 0 | åŸºåº§é«˜åº¦ |
| 2 | -90Â° | aâ‚ | 0 | -90Â° | è‚©å…³èŠ‚åç§» |
| 3 | 0 | aâ‚‚ | 0 | 0 | å¤§è‡‚ |
| 4 | -90Â° | aâ‚ƒ | dâ‚„ | 0 | å°è‡‚ã€è…•éƒ¨ |
| 5 | 90Â° | 0 | 0 | 0 | è…•å…³èŠ‚ |
| 6 | -90Â° | 0 | dâ‚œ | 0 | æœ«ç«¯å·¥å…· |

### 1.3 ä¸‰è§’å‡½æ•°ç®€å†™

| ç®€å†™ | å«ä¹‰ |
|:----:|:-----|
| $c_i$ | $\cos(\theta_i)$ |
| $s_i$ | $\sin(\theta_i)$ |
| $c_{ij}$ | $\cos(\theta_i + \theta_j)$ |
| $s_{ij}$ | $\sin(\theta_i + \theta_j)$ |

### 1.4 æœ«ç«¯ä½å§¿çŸ©é˜µ

ç›®æ ‡ä½å§¿çŸ©é˜µ ${}^{0}T_{6}$ å®šä¹‰ä¸ºï¼š

$$
{}^{0}T_{6} = \begin{bmatrix} 
n_x & o_x & a_x & p_x \\ 
n_y & o_y & a_y & p_y \\ 
n_z & o_z & a_z & p_z \\ 
0 & 0 & 0 & 1 
\end{bmatrix}
= \begin{bmatrix} 
\vec{n} & \vec{o} & \vec{a} & \vec{p} \\ 
0 & 0 & 0 & 1 
\end{bmatrix}
$$

å…¶ä¸­ï¼š
- $\vec{n} = (n_x, n_y, n_z)^T$ï¼šæ³•å‘é‡ï¼ˆNormalï¼‰
- $\vec{o} = (o_x, o_y, o_z)^T$ï¼šæ–¹å‘å‘é‡ï¼ˆOrientationï¼‰
- $\vec{a} = (a_x, a_y, a_z)^T$ï¼šæ¥è¿‘å‘é‡ï¼ˆApproachï¼‰
- $\vec{p} = (p_x, p_y, p_z)^T$ï¼šä½ç½®å‘é‡ï¼ˆPositionï¼‰

---

## äºŒã€æ­£è¿åŠ¨å­¦

### 2.1 é€šç”¨é½æ¬¡å˜æ¢çŸ©é˜µï¼ˆMDH Conventionï¼‰

æ ¹æ®Modified DHå‚æ•°ï¼Œç›¸é‚»åæ ‡ç³»é—´çš„é½æ¬¡å˜æ¢çŸ©é˜µä¸ºï¼š

$$
{}^{i-1}T_{i} = \begin{bmatrix}
c_{\theta_i} & -s_{\theta_i} & 0 & a_{i-1} \\
s_{\theta_i} c_{\alpha_{i-1}} & c_{\theta_i} c_{\alpha_{i-1}} & -s_{\alpha_{i-1}} & -s_{\alpha_{i-1}} d_i \\
s_{\theta_i} s_{\alpha_{i-1}} & c_{\theta_i} s_{\alpha_{i-1}} & c_{\alpha_{i-1}} & c_{\alpha_{i-1}} d_i \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

### 2.2 å„å…³èŠ‚å˜æ¢çŸ©é˜µ

#### çŸ©é˜µ ${}^{0}T_{1}$

$$
{}^{0}T_{1} = \begin{bmatrix}
c_1 & -s_1 & 0 & 0 \\
s_1 & c_1 & 0 & 0 \\
0 & 0 & 1 & d_1 \\
0 & 0 & 0 & 1
\end{bmatrix}, \quad \theta_1 = q_1
$$

#### çŸ©é˜µ ${}^{1}T_{2}$

$$
{}^{1}T_{2} = \begin{bmatrix}
c_2 & -s_2 & 0 & a_1 \\
0 & 0 & 1 & 0 \\
-s_2 & -c_2 & 0 & 0 \\
0 & 0 & 0 & 1
\end{bmatrix}, \quad \theta_2 = q_2 - \frac{\pi}{2}
$$

#### çŸ©é˜µ ${}^{2}T_{3}$

$$
{}^{2}T_{3} = \begin{bmatrix}
c_3 & -s_3 & 0 & a_2 \\
s_3 & c_3 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1
\end{bmatrix}, \quad \theta_3 = q_3
$$

#### çŸ©é˜µ ${}^{3}T_{4}$

$$
{}^{3}T_{4} = \begin{bmatrix}
c_4 & -s_4 & 0 & a_3 \\
0 & 0 & 1 & d_4 \\
-s_4 & -c_4 & 0 & 0 \\
0 & 0 & 0 & 1
\end{bmatrix}, \quad \theta_4 = q_4
$$

#### çŸ©é˜µ ${}^{4}T_{5}$

$$
{}^{4}T_{5} = \begin{bmatrix}
c_5 & -s_5 & 0 & 0 \\
0 & 0 & -1 & 0 \\
s_5 & c_5 & 0 & 0 \\
0 & 0 & 0 & 1
\end{bmatrix}, \quad \theta_5 = q_5
$$

#### çŸ©é˜µ ${}^{5}T_{6}$

$$
{}^{5}T_{6} = \begin{bmatrix}
c_6 & -s_6 & 0 & 0 \\
0 & 0 & 1 & d_t \\
-s_6 & -c_6 & 0 & 0 \\
0 & 0 & 0 & 1
\end{bmatrix}, \quad \theta_6 = q_6
$$

---

### 2.3 å¤åˆå˜æ¢çŸ©é˜µ

#### çŸ©é˜µ ${}^{1}T_{3}$

$$
{}^{1}T_{3} = {}^{1}T_{2} \cdot {}^{2}T_{3} = \begin{bmatrix}
c_{23} & -s_{23} & 0 & a_2 c_2 + a_1 \\
0 & 0 & 1 & 0 \\
-s_{23} & -c_{23} & 0 & -a_2 s_2 \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

#### çŸ©é˜µ ${}^{4}T_{6}$

$$
{}^{4}T_{6} = {}^{4}T_{5} \cdot {}^{5}T_{6} = \begin{bmatrix}
c_5 c_6 & -c_5 s_6 & -s_5 & -d_t s_5 \\
s_6 & c_6 & 0 & 0 \\
s_5 c_6 & -s_5 s_6 & c_5 & d_t c_5 \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

#### çŸ©é˜µ ${}^{3}T_{6}$

$$
{}^{3}T_{6} = {}^{3}T_{4} \cdot {}^{4}T_{6} = \begin{bmatrix}
n_{x}^{(36)} & o_{x}^{(36)} & a_{x}^{(36)} & p_{x}^{(36)} \\
n_{y}^{(36)} & o_{y}^{(36)} & a_{y}^{(36)} & p_{y}^{(36)} \\
n_{z}^{(36)} & o_{z}^{(36)} & a_{z}^{(36)} & p_{z}^{(36)} \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

**${}^{3}T_{6}$ å…ƒç´ å±•å¼€ï¼š**

| å‘é‡ | x åˆ†é‡ | y åˆ†é‡ | z åˆ†é‡ |
|:----:|:------:|: ------:|:------:|
| $\vec{n}^{(36)}$ | $c_4 c_5 c_6 - s_4 s_6$ | $s_5 c_6$ | $-s_4 c_5 c_6 - c_4 s_6$ |
| $\vec{o}^{(36)}$ | $-c_4 c_5 s_6 - s_4 c_6$ | $-s_5 s_6$ | $s_4 c_5 s_6 - c_4 c_6$ |
| $\vec{a}^{(36)}$ | $-c_4 s_5$ | $c_5$ | $s_4 s_5$ |
| $\vec{p}^{(36)}$ | $a_3 - d_t c_4 s_5$ | $d_4 + d_t c_5$ | $d_t s_4 s_5$ |

#### çŸ©é˜µ ${}^{1}T_{6}$

$$
{}^{1}T_{6} = {}^{1}T_{3} \cdot {}^{3}T_{6} = \begin{bmatrix}
n_{x}^{(16)} & o_{x}^{(16)} & a_{x}^{(16)} & p_{x}^{(16)} \\
n_{y}^{(16)} & o_{y}^{(16)} & a_{y}^{(16)} & p_{y}^{(16)} \\
n_{z}^{(16)} & o_{z}^{(16)} & a_{z}^{(16)} & p_{z}^{(16)} \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

**${}^{1}T_{6}$ ç»“æ„å±•å¼€ï¼š**

$$
{}^{1}T_{6} = \begin{bmatrix}
c_{23} n_{x}^{(36)} - s_{23} n_{y}^{(36)} & c_{23} o_{x}^{(36)} - s_{23} o_{y}^{(36)} & c_{23} a_{x}^{(36)} - s_{23} a_{y}^{(36)} & p_{x}^{(16)} \\
n_{z}^{(36)} & o_{z}^{(36)} & a_{z}^{(36)} & p_{y}^{(16)} \\
-s_{23} n_{x}^{(36)} - c_{23} n_{y}^{(36)} & -s_{23} o_{x}^{(36)} - c_{23} o_{y}^{(36)} & -s_{23} a_{x}^{(36)} - c_{23} a_{y}^{(36)} & p_{z}^{(16)} \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

**ä½ç½®å‘é‡ $\vec{p}^{(16)}$ å±•å¼€ï¼š**

$$
\begin{aligned}
p_{x}^{(16)} &= c_{23}(a_3 - d_t c_4 s_5) - s_{23}(d_4 + d_t c_5) + a_2 c_2 + a_1 \\
p_{y}^{(16)} &= d_t s_4 s_5 \\
p_{z}^{(16)} &= -s_{23}(a_3 - d_t c_4 s_5) - c_{23}(d_4 + d_t c_5) - a_2 s_2
\end{aligned}
$$

---

### 2.4 æœ€ç»ˆæ­£è¿åŠ¨å­¦

$$
{}^{0}T_{6} = {}^{0}T_{1} \cdot {}^{1}T_{6} = \begin{bmatrix} 
r_{11} & r_{12} & r_{13} & p_x \\ 
r_{21} & r_{22} & r_{23} & p_y \\ 
r_{31} & r_{32} & r_{33} & p_z \\ 
0 & 0 & 0 & 1 
\end{bmatrix}
$$

#### 2.4.1 ä½ç½®å‘é‡

$$
\begin{aligned}
p_x &= c_1 \left[ c_{23}(a_3 - d_t c_4 s_5) - s_{23}(d_4 + d_t c_5) + a_2 c_2 + a_1 \right] - s_1 \left[ d_t s_4 s_5 \right] \\[6pt]
p_y &= s_1 \left[ c_{23}(a_3 - d_t c_4 s_5) - s_{23}(d_4 + d_t c_5) + a_2 c_2 + a_1 \right] + c_1 \left[ d_t s_4 s_5 \right] \\[6pt]
p_z &= -s_{23}(a_3 - d_t c_4 s_5) - c_{23}(d_4 + d_t c_5) - a_2 s_2 + d_1
\end{aligned}
$$

#### 2.4.2 æ—‹è½¬çŸ©é˜µ

**ç¬¬ä¸€åˆ—ï¼ˆæ³•å‘é‡ $\vec{n}$ï¼‰ï¼š**

$$
\begin{aligned}
r_{11} &= c_1 \left[ c_{23}(c_4 c_5 c_6 - s_4 s_6) - s_{23} s_5 c_6 \right] - s_1 \left[ -s_4 c_5 c_6 - c_4 s_6 \right] \\[6pt]
r_{21} &= s_1 \left[ c_{23}(c_4 c_5 c_6 - s_4 s_6) - s_{23} s_5 c_6 \right] + c_1 \left[ -s_4 c_5 c_6 - c_4 s_6 \right] \\[6pt]
r_{31} &= -s_{23}(c_4 c_5 c_6 - s_4 s_6) - c_{23} s_5 c_6
\end{aligned}
$$

**ç¬¬äºŒåˆ—ï¼ˆæ–¹å‘å‘é‡ $\vec{o}$ï¼‰ï¼š**

$$
\begin{aligned}
r_{12} &= c_1 \left[ c_{23}(-c_4 c_5 s_6 - s_4 c_6) + s_{23} s_5 s_6 \right] - s_1 \left[ s_4 c_5 s_6 - c_4 c_6 \right] \\[6pt]
r_{22} &= s_1 \left[ c_{23}(-c_4 c_5 s_6 - s_4 c_6) + s_{23} s_5 s_6 \right] + c_1 \left[ s_4 c_5 s_6 - c_4 c_6 \right] \\[6pt]
r_{32} &= -s_{23}(-c_4 c_5 s_6 - s_4 c_6) + c_{23} s_5 s_6
\end{aligned}
$$

**ç¬¬ä¸‰åˆ—ï¼ˆæ¥è¿‘å‘é‡ $\vec{a}$ï¼‰ï¼š**

$$
\begin{aligned}
r_{13} &= c_1 \left[ -c_{23} c_4 s_5 - s_{23} c_5 \right] - s_1 \left[ s_4 s_5 \right] \\[6pt]
r_{23} &= s_1 \left[ -c_{23} c_4 s_5 - s_{23} c_5 \right] + c_1 \left[ s_4 s_5 \right] \\[6pt]
r_{33} &= s_{23} c_4 s_5 - c_{23} c_5
\end{aligned}
$$

---

> **æ³¨ï¼š** æ—‹è½¬çŸ©é˜µå„å…ƒç´ å¯é€šè¿‡å°† ${}^{3}T_{6}$ ä¸­çš„ $n^{(36)}$ã€$o^{(36)}$ã€$a^{(36)}$ ä»£å…¥ ${}^{1}T_{6}$ çš„è¡¨è¾¾å¼ï¼Œå†ä¸ ${}^{0}T_{1}$ ç›¸ä¹˜å¾—åˆ°ã€‚

ä»¤$\theta_1 = 0$, $\theta_2 = -90Â°$, $\theta_3 = 0$, $\theta_4 = 0$, $\theta_5 = 0$, $\theta_6 = 0$ï¼Œ
æœ€ç»ˆå¾—åˆ°${}^{0}T_{6} $ä¸º

$$
{}^{0}T_{6} = \begin{bmatrix} 
0 & 0 & 1 & d_4 + d_t + a_1 \\ 
0 & -1 & 0 & 0 \\ 
1 & 0 & 0 & a_3 + a_2 + d_1 \\ 
0 & 0 & 0 & 1 
\end{bmatrix}
$$

## ä¸‰ã€é€†è¿åŠ¨å­¦


$$
{}^{0}T_{6} = \begin{bmatrix} 
n_x & o_x & a_x & p_x \\ 
n_y & o_y & a_y & p_y \\ 
n_z & o_z & a_z & p_z \\ 
0 & 0 & 0 & 1 
\end{bmatrix}
=  {}^{0}T_{1} \cdot {}^{1}T_{2} \cdot {}^{2}T_{3} \cdot {}^{3}T_{4} \cdot {}^{4}T_{5} \cdot {}^{5}T_{6}
$$
### 3.1 æ±‚è§£ $\theta_1$
$\left({}^{0}T_{3}\right)^{-1}$
#### æ­¥éª¤1ï¼šæ„å»ºæ–¹ç¨‹
ä»çŸ©é˜µæ–¹ç¨‹ $\left({}^{0}T_{1}\right)^{-1} \cdot {}^{0}T_{6}  = {}^{1}T_{6}$ çš„ (2,4) å’Œ (2,3) å…ƒç´ ï¼š
$$
\left({}^{0}T_{1}\right)^{-1} \cdot {}^{0}T_{6} = 
\begin{bmatrix}
c_1 & s_1 & 0 & 0 \\
-s_1 & c_1 & 0 & 0 \\
0 & 0 & 1 & -d_1 \\
0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}
n_x & o_x & a_x & p_x \\
n_y & o_y & a_y & p_y \\
n_z & o_z & a_z & p_z \\
0 & 0 & 0 & 1
\end{bmatrix}
= {}^{1}T_{6}
$$

$$
-s_1p_x + c_1p_y = d_t(s_4s_5) \quad \text{.. .(1)}
$$

$$
-s_1a_x + c_1a_y = s_4s_5 \quad \text{...(2)}
$$

#### æ­¥éª¤2ï¼šæ¶ˆå…ƒ

å°†æ–¹ç¨‹(2)ä»£å…¥æ–¹ç¨‹(1)æ¶ˆå» $s_4s_5$ï¼š

$$
-s_1p_x + c_1p_y = d_t(-s_1a_x + c_1a_y)
$$

#### æ­¥éª¤3ï¼šæ•´ç†æ±‚è§£

$$
s_1(d_ta_x - p_x) = c_1(d_ta_y - p_y)
$$

#### ğŸ”¹ å…¬å¼1ï¼š$\theta_1$ æ±‚è§£å…¬å¼

$$
\boxed{\theta_1 = \text{atan2}(p_y - d_ta_y, \ p_x - d_ta_x)}
$$

> **ç‰©ç†æ„ä¹‰**ï¼š$(p_x - d_ta_x, p_y - d_ta_y)$ æ˜¯è…•éƒ¨ä¸­å¿ƒç‚¹åœ¨åŸºåæ ‡ç³»XYå¹³é¢çš„æŠ•å½±

---


